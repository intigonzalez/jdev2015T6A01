<div class="col-md-8" ng-controller="ProfileController as user">
    <div id="viewHeader">
        <h2>My Profile</h2>
    </div>
    
	<div ng-show="user.isSetTab(0)">
    	<div class="panel panel-default">
    		<div class="panel-heading col-xs-12">
    			<h3 class="panel-title col-xs-11">General</h3>
    			<button type="button" class="btn btn-default btn-sm col-xs-1" ng-click="user.setTab(2)">
            		<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
            	</button>
    		</div>
    		<div class="panel-body">
    			<div class="col-xs-12">
		    		<div class="col-xs-10">
		    			<div class="col-xs-5">
		    				<div class="row">
			    				<h4>Firstname</h4>
			    				<p>{{user.person.firstname}}</p>
			    			</div>
			    			<div class="row">
			    				<h4>Surname</h4>
			    				<p>{{user.person.surname}}</p>
			    			</div>
		    			</div>
		    			<div class="col-xs-1"></div>
		    			<div class="col-xs-5">
		    				<div class="row">
			    				<h4>Email</h4>
			    				<p>{{user.person.userID}}</p>
			    			</div>
			    			<div class="row">
			    				<h4>Mot de passe</h4>
			    				<p>{{user.person.password}}</p>
			    			</div>
		    			</div>
		    		</div>
	    			<div class="col-md-2 avatar-profile">
	    				<img src="assets/img/ui-sam.jpg" class="img-circle" width="80">
	    			</div>
		    	</div>
	    	</div>
    	</div>
    </div>
    
    <div ng-show="user.isSetTab(0)">
    	<div class="panel panel-default text-center">
    		<div class="panel-heading col-xs-12">
    			<h3 class="panel-title col-xs-11 text-left">SMTP</h3>
	    			<button type="button" class="btn btn-default btn-sm col-xs-1" ng-show="user.isSMTPTab(2)" ng-click="user.setSMTPTab(3)">
	            		<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Edit
	            	</button>
    		</div>
    		<div class="padded-smtp">
	    		<div class="panel-body" ng-show="user.isSMTPTab(0)" class="btn-group">
	    			<button class="btn btn-success" ng-click="user.openOauth(); user.setSMTPTab(4)">Connect with OAuth</button>
	    			<button class="btn btn-info" ng-click="user.setSMTPTab(3)">Edit SMTP settings manually</button>
	    		</div>
	    		<div class="panel-body" ng-show="user.isSMTPTab(1)">
	    			<button class="btn btn-danger" ng-click="user.smtp.token='';user.putSmtp(user.smtp);user.setSMTPTab(0)">Unlink OAuth</button>
	    		</div>
	    		<div class="panel-body text-left" ng-show="user.isSMTPTab(2)">
	    			<div class="col-xs-18">
		    			<div class="col-xs-6">
		    				<div class="row">
			    				<h4>Host</h4>
			    				<p>{{user.smtp.host}}</p>
			    			</div>
			    			<div class="row">
			    				<h4>Port</h4>
			    				<p>{{user.smtp.port}}</p>
			    			</div>
		    			</div>
		    			<div class="col-xs-6">
		    				<div class="row">
			    				<h4>Username</h4>
			    				<p>{{user.smtp.username}}</p>
			    			</div>
			    			<div class="row">
			    				<h4>Password</h4>
			    				<p>{{user.smtp.password}}</p>
			    			</div>
		    			</div>
			    	</div>
			    	<button class="btn btn-success" ng-click="user.openOauth(); user.setSMTPTab(4)">Connect with OAuth</button>
		    	</div>
		    	<div class="panel-body" ng-show="user.isSMTPTab(3)">
		    		<form class="form-horizontal" name="smtpForm" validate>
			            <div class="row">
			                <div class="col-md-8 col-md-offset-2">
			                    <!-- SMTP Server -->
			                    <div class="form-group">
			                        <div class="input-group">
			                            <span class="input-group-addon">
			                                <i class="glyphicon glyphicon-server"></i>
			                            </span>
			                            <input class="form-control" placeholder="Host" ng-model="user.smtp.host"
			                                   type="text" autofocus required>
			                        </div>
			                    </div>
			                    <!-- Port -->
			                    <div class="form-group">
			                        <div class="input-group">
			                            <span class="input-group-addon">
			                                <i class="glyphicon glyphicon-flag"></i>
			                            </span>
			                            <input class="form-control" placeholder="Port" ng-model="user.smtp.port"
			                                   type="text" autofocus>
			                        </div>
			                    </div>
			                    <!-- Email -->
			                    <div class="form-group">
			                        <div class="input-group">
			                                <span class="input-group-addon">
			                                    <i class="glyphicon glyphicon-user"></i>
			                                </span>
			                            <input class="form-control" placeholder="Username" ng-model="user.smtp.username"
			                                   type="text">
			                        </div>
			                    </div>
			                    
			                    <!-- Password -->
			                    <div class="form-group">
			                        <div class="input-group">
			                            <span class="input-group-addon">
			                                    <i class="glyphicon glyphicon-lock"></i>
			                            </span>
			                            <input class="form-control" placeholder=" Password " ng-model="user.smtp.password"
			                                   type="password">
			                        </div>
			                    </div>
			                    
			                    <div class="form-group">
			                        <button class="btn btn-success" ng-click="user.putSmtp(user.smtp);user.setSMTPTab(5)" class="btn btn-lg btn-primary btn-block"
			                                ng-class="user.class"> Update information
			                        </button>
			                    </div>
			                </div>
			            </div>
			        </form>
				</div>
				<div class="panel-body" ng-show="user.isSMTPTab(4)">
	    			<div class="form-group">
			         	<div class="input-group">
			            	<span class="input-group-addon">
			                	<i class="glyphicon glyphicon-flag"></i>
			               	</span>
			            	<input class="form-control" placeholder="Token" ng-model="user.code"
			                                   type="text" autofocus>
			           	</div>
			 		</div>
			       	<button class="btn btn-warning" ng-click="user.auth2token(user.code); user.setSMTPTab(1)">Send</button>
				</div>
			</div>
    	</div>
    </div>
    
    
		    		<!-- 		<button ng-click="user.auth2token(user.code)" class="btn btn-lg btn-default btn-block"
                                ng-class="user.class">Send code
                            </button> -->
</div>